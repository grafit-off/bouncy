{"version":3,"sources":["script.js"],"names":["testWebP","callback","webP","Image","onload","onerror","height","src","support","document","querySelector","classList","add","header__burger","header__menu","body","header__list","html","isiPhone","navigator","userAgent","match","isiPad","isiPod","bodyFixPosition","setTimeout","hasAttribute","scrollPosition","window","pageYOffset","documentElement","scrollTop","setAttribute","style","position","top","left","width","bodyUnfixPosition","getAttribute","removeAttribute","scroll","console","log","onclick","e","scrollTo","toggle","addEventListener","contains","nav","prevScrollpos","navOpen","remove","navScroll","onscroll","currentScrollPos"],"mappings":"AAAA,SAASA,SAASC,GAEjB,IAAIC,EAAO,IAAIC,MACfD,EAAKE,OAASF,EAAKG,QAAU,WAC5BJ,EAAwB,GAAfC,EAAKI,SAEfJ,EAAKK,IAAM,kHAGZP,UAAS,SAAUQ,GAEH,GAAXA,EACHC,SAASC,cAAc,QAAQC,UAAUC,IAAI,QAE7CH,SAASC,cAAc,QAAQC,UAAUC,IAAI,cAI/C,MAAMC,eAAiBJ,SAASC,cAAc,gBACxCI,aAAeL,SAASC,cAAc,cACtCK,KAAON,SAASC,cAAc,QAC9BM,aAAeP,SAASC,cAAc,cACtCO,KAAOR,SAASC,cAAc,QAE9BQ,SAAoD,MAAxCC,UAAUC,UAAUC,MAAM,WACtCC,OAAgD,MAAtCH,UAAUC,UAAUC,MAAM,SACpCE,OAAgD,MAAtCJ,UAAUC,UAAUC,MAAM,SAkC1C,SAASG,kBACRC,YAAW,WAEV,IAAKhB,SAASM,KAAKW,aAAa,wBAAyB,CAExD,IAAIC,EAAiBC,OAAOC,aAAepB,SAASqB,gBAAgBC,UAEpEtB,SAASM,KAAKiB,aAAa,uBAAwBL,GAEnDlB,SAASM,KAAKkB,MAAMC,SAAW,QAC/BzB,SAASM,KAAKkB,MAAME,IAAM,IAAMR,EAAiB,KACjDlB,SAASM,KAAKkB,MAAMG,KAAO,IAC3B3B,SAASM,KAAKkB,MAAMI,MAAQ,UAE3B,IAGJ,SAASC,oBACR,GAAI7B,SAASM,KAAKW,aAAa,wBAAyB,CAEvD,IAAIC,EAAiBlB,SAASM,KAAKwB,aAAa,wBAEhD9B,SAASM,KAAKyB,gBAAgB,wBAG9B/B,SAASM,KAAKkB,MAAMC,SAAW,GAC/BzB,SAASM,KAAKkB,MAAME,IAAM,GAC1B1B,SAASM,KAAKkB,MAAMG,KAAO,GAC3B3B,SAASM,KAAKkB,MAAMI,MAAQ,GAE5BT,OAAOa,OAAO,EAAGd,IA9DfT,UAAYI,QAAUC,OACzBmB,QAAQC,IAAI,UAEZD,QAAQC,IAAI,oBAEb9B,eAAe+B,QAAU,SAAUC,GAC9B3B,UAAYI,QAAUC,QACzBK,OAAOkB,SAAS,EAAGlB,OAAOC,YAAc,GACxChB,eAAeF,UAAUoC,OAAO,UAChCjC,aAAaH,UAAUoC,OAAO,UAC9BhC,KAAKJ,UAAUoC,OAAO,QACtBvB,kBACAc,sBAGAzB,eAAeF,UAAUoC,OAAO,UAChCjC,aAAaH,UAAUoC,OAAO,UAC9BhC,KAAKJ,UAAUoC,OAAO,WAIpB7B,UAAYI,QAAUC,SACzBK,OAAOoB,iBAAiB,UAAU,WAC7BjC,KAAKJ,UAAUsC,SAAS,SAC3BrB,OAAOkB,SAAS,EAAGlB,OAAOC,YAAc,GACxCL,mBAEAc,uBAwCH,MAAMY,IAAMzC,SAASC,cAAc,QACnC,IAAIyC,cAAgBvB,OAAOC,YAE3B,SAASuB,UACa,GAAjBD,cACHD,IAAIvC,UAAUC,IAAI,WAElBsC,IAAIvC,UAAU0C,OAAO,WAGvB,SAASC,YACR1B,OAAO2B,SAAW,WACjB,IAAIC,EAAmB5B,OAAOC,YAC1BsB,cAAgBK,IAETL,cAAgBK,GAD1BN,IAAIvC,UAAUC,IAAI,WAIlBsC,IAAIvC,UAAU0C,OAAO,WAEtBF,cAAgBK,GAGlBJ,UACAE","file":"script.min.js","sourcesContent":["function testWebP(callback) {\r\n\r\n\tvar webP = new Image();\r\n\twebP.onload = webP.onerror = function () {\r\n\t\tcallback(webP.height == 2);\r\n\t};\r\n\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n}\r\n\r\ntestWebP(function (support) {\r\n\r\n\tif (support == true) {\r\n\t\tdocument.querySelector('body').classList.add('webp');\r\n\t} else {\r\n\t\tdocument.querySelector('body').classList.add('no-webp');\r\n\t}\r\n});\r\n// Burger\r\nconst header__burger = document.querySelector('.nav__burger');\r\nconst header__menu = document.querySelector('.nav__menu');\r\nconst body = document.querySelector('body');\r\nconst header__list = document.querySelector('.nav__list');\r\nconst html = document.querySelector('html');\r\n\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\n\r\nif (isiPhone || isiPad || isiPod) {\r\n\tconsole.log('IPhone')\r\n} else {\r\n\tconsole.log('Это не айфон -_-')\r\n}\r\nheader__burger.onclick = function (e) {\r\n\tif (isiPhone || isiPad || isiPod) {\r\n\t\twindow.scrollTo(0, window.pageYOffset + 1);\r\n\t\theader__burger.classList.toggle('active');\r\n\t\theader__menu.classList.toggle('active');\r\n\t\tbody.classList.toggle('lock');\r\n\t\tbodyFixPosition()\r\n\t\tbodyUnfixPosition()\r\n\r\n\t} else {\r\n\t\theader__burger.classList.toggle('active');\r\n\t\theader__menu.classList.toggle('active');\r\n\t\tbody.classList.toggle('lock');\r\n\t}\r\n}\r\n\r\nif (isiPhone || isiPad || isiPod) {\r\n\twindow.addEventListener('scroll', function () {\r\n\t\tif (body.classList.contains('lock')) {\r\n\t\t\twindow.scrollTo(0, window.pageYOffset + 1);\r\n\t\t\tbodyFixPosition()\r\n\t\t} else {\r\n\t\t\tbodyUnfixPosition()\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction bodyFixPosition() {\r\n\tsetTimeout(function () {\r\n\t\t// Ставим необходимую задержку, чтобы не было «конфликта» в случае, если функция фиксации вызывается сразу после расфиксации (расфиксация отменяет действия расфиксации из-за одновременного действия)\r\n\t\tif (!document.body.hasAttribute('data-body-scroll-fix')) {\r\n\t\t\t// Получаем позицию прокрутки\r\n\t\t\tlet scrollPosition = window.pageYOffset || document.documentElement.scrollTop;\r\n\t\t\t// Ставим нужные стили\r\n\t\t\tdocument.body.setAttribute('data-body-scroll-fix', scrollPosition); // Cтавим атрибут со значением прокрутки\r\n\r\n\t\t\tdocument.body.style.position = 'fixed';\r\n\t\t\tdocument.body.style.top = '-' + scrollPosition + 'px';\r\n\t\t\tdocument.body.style.left = '0';\r\n\t\t\tdocument.body.style.width = '100%';\r\n\t\t}\r\n\t}, 15); // Можно задержку ещё меньше, но у меня работало хорошо именно с этим значением на всех устройствах и браузерах \r\n}\r\n\r\nfunction bodyUnfixPosition() {\r\n\tif (document.body.hasAttribute('data-body-scroll-fix')) {\r\n\t\t// Получаем позицию прокрутки из атрибута\r\n\t\tlet scrollPosition = document.body.getAttribute('data-body-scroll-fix');\r\n\t\t// Удаляем атрибут\r\n\t\tdocument.body.removeAttribute('data-body-scroll-fix');\r\n\t\t// Удаляем ненужные стили\r\n\r\n\t\tdocument.body.style.position = '';\r\n\t\tdocument.body.style.top = '';\r\n\t\tdocument.body.style.left = '';\r\n\t\tdocument.body.style.width = '';\r\n\t\t// Прокручиваем страницу на полученное из атрибута значение\r\n\t\twindow.scroll(0, scrollPosition);\r\n\t}\r\n}\r\n\r\n// scroll nav\r\nconst nav = document.querySelector(\".nav\");\r\nlet prevScrollpos = window.pageYOffset;\r\n\r\nfunction navOpen() {\r\n\tif (prevScrollpos != 0) {\r\n\t\tnav.classList.add('_active');\r\n\t} else {\r\n\t\tnav.classList.remove('_active');\r\n\t}\r\n}\r\nfunction navScroll() {\r\n\twindow.onscroll = function () {\r\n\t\tvar currentScrollPos = window.pageYOffset;\r\n\t\tif (prevScrollpos < currentScrollPos) {\r\n\t\t\tnav.classList.add('_active');\r\n\t\t} else if (prevScrollpos = currentScrollPos) {\r\n\t\t\tnav.classList.add('_active');\r\n\t\t} else {\r\n\t\t\tnav.classList.remove('_active');\r\n\t\t}\r\n\t\tprevScrollpos = currentScrollPos;\r\n\t}\r\n}\r\nnavOpen()\r\nnavScroll()\r\n\r\n// Swiper\r\n/* let swiperHeader = new Swiper('.swiper-header', {\r\n\tloop: true,\r\n\tcenteredSlides: true,\r\n\tpagination: {\r\n\t\tel: '.swiper-pagination',\r\n\t\tclickable: true,\r\n\t},\r\n\tnavigation: {\r\n\t\tnextEl: '.swiper-button-next',\r\n\t\tprevEl: '.swiper-button-prev',\r\n\t},\r\n\twatchSlidesVisibility: true,\r\n\ton: {\r\n\t\tinit() {\r\n\t\t\tArray.from(this.slides).forEach((swiperSlide, i) => {\r\n\t\t\t\tconst slide = swiperSlide.querySelector('.slider__wrapper');\r\n\t\t\t\tif (!swiperSlide.classList.contains('swiper-slide-visible')) {\r\n\t\t\t\t\tslide.style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTranslate() {\r\n\t\t\tArray.from(this.slides).forEach((slide,) => {\r\n\t\t\t\tif (slide.classList.contains('swiper-slide-visible')) {\r\n\t\t\t\t\tslide.querySelector('.slider__wrapper').style.display = '';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\ttransitionEnd() {\r\n\t\t\tArray.from(this.slides).forEach((slide) => {\r\n\t\t\t\tif (!slide.classList.contains('swiper-slide-visible')) {\r\n\t\t\t\t\tslide.querySelector('.slider__wrapper').style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n}); */\r\n\r\n/* // Slider hover\r\ndocument.querySelector('.posts-image-slider2').addEventListener('mouseenter', () => {\r\n\tswiperPostsInterior2.autoplay.stop()\r\n});\r\ndocument.querySelector('.posts-image-slider2').addEventListener('mouseleave', () => {\r\n\tswiperPostsInterior2.autoplay.start()\r\n}); */\r\n//\r\n/*\r\n// Acordion\r\ndocument.querySelectorAll('.acordion-triger').forEach((item) =>\r\n\titem.addEventListener('click', () => {\r\n\t\titem.parentNode.classList.toggle('acordion--active');\r\n\t})\r\n) */"]}