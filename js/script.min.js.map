{"version":3,"sources":["script.js"],"names":["testWebP","callback","webP","Image","onload","onerror","height","src","support","document","querySelector","classList","add","nav__burger","nav__menu","body","nav__list","nav","isiPhone","navigator","userAgent","match","isiPad","isiPod","bodyFixPosition","setTimeout","hasAttribute","scrollPosition","window","pageYOffset","documentElement","scrollTop","setAttribute","style","overflow","position","top","left","width","bodyUnfixPosition","getAttribute","removeAttribute","scroll","onclick","e","toggle","scrollTo","console","log","addEventListener","contains","prevScrollpos","navScroll","onscroll","currentScrollPos","remove"],"mappings":"AAAA,SAASA,SAASC,GAEjB,IAAIC,EAAO,IAAIC,MACfD,EAAKE,OAASF,EAAKG,QAAU,WAC5BJ,EAAwB,GAAfC,EAAKI,SAEfJ,EAAKK,IAAM,kHAGZP,UAAS,SAAUQ,GAEH,GAAXA,EACHC,SAASC,cAAc,QAAQC,UAAUC,IAAI,QAE7CH,SAASC,cAAc,QAAQC,UAAUC,IAAI,cAI/C,MAAMC,YAAcJ,SAASC,cAAc,gBACrCI,UAAYL,SAASC,cAAc,cACnCK,KAAON,SAASC,cAAc,QAC9BM,UAAYP,SAASC,cAAc,cACnCO,IAAMR,SAASC,cAAc,QAE7BQ,SAAoD,MAAxCC,UAAUC,UAAUC,MAAM,WACtCC,OAAgD,MAAtCH,UAAUC,UAAUC,MAAM,SACpCE,OAAgD,MAAtCJ,UAAUC,UAAUC,MAAM,SA+B1C,SAASG,kBACRC,YAAW,WAEV,IAAKhB,SAASM,KAAKW,aAAa,wBAAyB,CAExD,IAAIC,EAAiBC,OAAOC,aAAepB,SAASqB,gBAAgBC,UAEpEtB,SAASM,KAAKiB,aAAa,uBAAwBL,GACnDlB,SAASM,KAAKkB,MAAMC,SAAW,SAC/BzB,SAASM,KAAKkB,MAAME,SAAW,QAC/B1B,SAASM,KAAKkB,MAAMG,IAAM,IAAMT,EAAiB,KACjDlB,SAASM,KAAKkB,MAAMI,KAAO,IAC3B5B,SAASM,KAAKkB,MAAMK,MAAQ,UAE3B,IAGJ,SAASC,oBACR,GAAI9B,SAASM,KAAKW,aAAa,wBAAyB,CAEvD,IAAIC,EAAiBlB,SAASM,KAAKyB,aAAa,wBAEhD/B,SAASM,KAAK0B,gBAAgB,wBAE9BhC,SAASM,KAAKkB,MAAMC,SAAW,GAC/BzB,SAASM,KAAKkB,MAAME,SAAW,GAC/B1B,SAASM,KAAKkB,MAAMG,IAAM,GAC1B3B,SAASM,KAAKkB,MAAMI,KAAO,GAC3B5B,SAASM,KAAKkB,MAAMK,MAAQ,GAE5BV,OAAOc,OAAO,EAAGf,IA3DnBd,YAAY8B,QAAU,SAAUC,GAC3B1B,UAAYI,QAAUC,QACzBV,YAAYF,UAAUkC,OAAO,UAC7B/B,UAAUH,UAAUkC,OAAO,UAC3B5B,IAAIN,UAAUkC,OAAO,UACrB9B,KAAKJ,UAAUkC,OAAO,QACtBrB,kBACAI,OAAOkB,SAAS,EAAG,GACnBP,oBACAQ,QAAQC,IAAI,iBAEZ/B,IAAIN,UAAUkC,OAAO,UACrBhC,YAAYF,UAAUkC,OAAO,UAC7B/B,UAAUH,UAAUkC,OAAO,UAC3B9B,KAAKJ,UAAUkC,OAAO,WAGpB3B,UAAYI,QAAUC,SACzBK,OAAOqB,iBAAiB,UAAU,WAC7BlC,KAAKJ,UAAUuC,SAAS,SAC3B1B,kBACAuB,QAAQC,IAAI,WAEZT,oBACAQ,QAAQC,IAAI,eAuCf,IAAIG,cAAgBvB,OAAOC,YAC3B,SAASuB,YACRxB,OAAOyB,SAAW,WACjB,IAAIC,EAAmB1B,OAAOC,YAC1BsB,cAAgBG,IAETH,cAAgBG,GAD1BrC,IAAIN,UAAUC,IAAI,eAIlBK,IAAIN,UAAU4C,OAAO,eAEtBJ,cAAgBG,GAGlBF","file":"script.min.js","sourcesContent":["function testWebP(callback) {\r\n\r\n\tvar webP = new Image();\r\n\twebP.onload = webP.onerror = function () {\r\n\t\tcallback(webP.height == 2);\r\n\t};\r\n\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n}\r\n\r\ntestWebP(function (support) {\r\n\r\n\tif (support == true) {\r\n\t\tdocument.querySelector('body').classList.add('webp');\r\n\t} else {\r\n\t\tdocument.querySelector('body').classList.add('no-webp');\r\n\t}\r\n});\r\n// Burger\r\nconst nav__burger = document.querySelector('.nav__burger');\r\nconst nav__menu = document.querySelector('.nav__menu');\r\nconst body = document.querySelector('body');\r\nconst nav__list = document.querySelector('.nav__list');\r\nconst nav = document.querySelector(\".nav\");\r\n\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\n\r\nnav__burger.onclick = function (e) {\r\n\tif (isiPhone || isiPad || isiPod) {\r\n\t\tnav__burger.classList.toggle('active');\r\n\t\tnav__menu.classList.toggle('active');\r\n\t\tnav.classList.toggle('active');\r\n\t\tbody.classList.toggle('lock');\r\n\t\tbodyFixPosition()\r\n\t\twindow.scrollTo(0, 1)\r\n\t\tbodyUnfixPosition()\r\n\t\tconsole.log('Is a IPhone')\r\n\t} else {\r\n\t\tnav.classList.toggle('active');\r\n\t\tnav__burger.classList.toggle('active');\r\n\t\tnav__menu.classList.toggle('active');\r\n\t\tbody.classList.toggle('lock');\r\n\t}\r\n}\r\nif (isiPhone || isiPad || isiPod) {\r\n\twindow.addEventListener('scroll', function () {\r\n\t\tif (body.classList.contains('lock')) {\r\n\t\t\tbodyFixPosition()\r\n\t\t\tconsole.log('Fixed')\r\n\t\t} else {\r\n\t\t\tbodyUnfixPosition()\r\n\t\t\tconsole.log('Unfixed')\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction bodyFixPosition() {\r\n\tsetTimeout(function () {\r\n\t\t/* Ставим необходимую задержку, чтобы не было «конфликта» в случае, если функция фиксации вызывается сразу после расфиксации (расфиксация отменяет действия расфиксации из-за одновременного действия) */\r\n\t\tif (!document.body.hasAttribute('data-body-scroll-fix')) {\r\n\t\t\t// Получаем позицию прокрутки\r\n\t\t\tlet scrollPosition = window.pageYOffset || document.documentElement.scrollTop;\r\n\t\t\t// Ставим нужные стили\r\n\t\t\tdocument.body.setAttribute('data-body-scroll-fix', scrollPosition); // Cтавим атрибут со значением прокрутки\r\n\t\t\tdocument.body.style.overflow = 'hidden';\r\n\t\t\tdocument.body.style.position = 'fixed';\r\n\t\t\tdocument.body.style.top = '-' + scrollPosition + 'px';\r\n\t\t\tdocument.body.style.left = '0';\r\n\t\t\tdocument.body.style.width = '100%';\r\n\t\t}\r\n\t}, 15); /* Можно задержку ещё меньше, но у меня работало хорошо именно с этим значением на всех устройствах и браузерах */\r\n}\r\n\r\nfunction bodyUnfixPosition() {\r\n\tif (document.body.hasAttribute('data-body-scroll-fix')) {\r\n\t\t// Получаем позицию прокрутки из атрибута\r\n\t\tlet scrollPosition = document.body.getAttribute('data-body-scroll-fix');\r\n\t\t// Удаляем атрибут\r\n\t\tdocument.body.removeAttribute('data-body-scroll-fix');\r\n\t\t// Удаляем ненужные стили\r\n\t\tdocument.body.style.overflow = '';\r\n\t\tdocument.body.style.position = '';\r\n\t\tdocument.body.style.top = '';\r\n\t\tdocument.body.style.left = '';\r\n\t\tdocument.body.style.width = '';\r\n\t\t// Прокручиваем страницу на полученное из атрибута значение\r\n\t\twindow.scroll(0, scrollPosition);\r\n\t}\r\n}\r\n// Nav Scroll\r\nvar prevScrollpos = window.pageYOffset;\r\nfunction navScroll() {\r\n\twindow.onscroll = function () {\r\n\t\tvar currentScrollPos = window.pageYOffset;\r\n\t\tif (prevScrollpos < currentScrollPos) {\r\n\t\t\tnav.classList.add('nav--active');\r\n\t\t} else if (prevScrollpos = currentScrollPos) {\r\n\t\t\tnav.classList.add('nav--active');\r\n\t\t} else {\r\n\t\t\tnav.classList.remove('nav--active');\r\n\t\t}\r\n\t\tprevScrollpos = currentScrollPos;\r\n\t}\r\n}\r\nnavScroll()\r\n//\r\n\r\n// Swiper\r\n/* let swiperHeader = new Swiper('.swiper-header', {\r\n\tloop: true,\r\n\tcenteredSlides: true,\r\n\tpagination: {\r\n\t\tel: '.swiper-pagination',\r\n\t\tclickable: true,\r\n\t},\r\n\tnavigation: {\r\n\t\tnextEl: '.swiper-button-next',\r\n\t\tprevEl: '.swiper-button-prev',\r\n\t},\r\n\twatchSlidesVisibility: true,\r\n\ton: {\r\n\t\tinit() {\r\n\t\t\tArray.from(this.slides).forEach((swiperSlide, i) => {\r\n\t\t\t\tconst slide = swiperSlide.querySelector('.slider__wrapper');\r\n\t\t\t\tif (!swiperSlide.classList.contains('swiper-slide-visible')) {\r\n\t\t\t\t\tslide.style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetTranslate() {\r\n\t\t\tArray.from(this.slides).forEach((slide,) => {\r\n\t\t\t\tif (slide.classList.contains('swiper-slide-visible')) {\r\n\t\t\t\t\tslide.querySelector('.slider__wrapper').style.display = '';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\ttransitionEnd() {\r\n\t\t\tArray.from(this.slides).forEach((slide) => {\r\n\t\t\t\tif (!slide.classList.contains('swiper-slide-visible')) {\r\n\t\t\t\t\tslide.querySelector('.slider__wrapper').style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n}); */\r\n\r\n/* // Slider hover\r\ndocument.querySelector('.posts-image-slider2').addEventListener('mouseenter', () => {\r\n\tswiperPostsInterior2.autoplay.stop()\r\n});\r\ndocument.querySelector('.posts-image-slider2').addEventListener('mouseleave', () => {\r\n\tswiperPostsInterior2.autoplay.start()\r\n}); */\r\n//\r\n/*\r\n// Acordion\r\ndocument.querySelectorAll('.acordion-triger').forEach((item) =>\r\n\titem.addEventListener('click', () => {\r\n\t\titem.parentNode.classList.toggle('acordion--active');\r\n\t})\r\n) */"]}